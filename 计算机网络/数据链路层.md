# 数据链路层

## 三个基本问题

1. 封装成帧：将网络层传下来的分组，添加首部和尾部，用于标记帧的开始和结束。
2. 透明传输：当消息符号和帧界定符一样时，会相混淆； 故添加转义字符，此转义字符用户察觉不到；
3. 差错检测：广泛使用了循环冗余检验（CRC）来检查比特差错；

## 信道分类

+ 广播：所有的节点都在**同一个**广播信道上发送数据，因此需要有专门的控制方法进行**协调**，避免发生冲突（冲突也叫碰撞）。主要有：**信道复用技术**和**CSMA/CD 协议**。
+ 单播：不会发生碰撞，使用ppp协议控制

## 信道复用技术

1. 频分复用：根据相同时间下的不同频率
2. 时分复用：根据相同频率下的不同时间
3. 波分复用：光的波长
4. 码分复用：分成码片

## CSMA/CD协议

- **多点接入** ：说明这是总线型网络，许多主机以多点的方式连接到总线上。
- **载波监听** ：每个主机都必须不停地监听信道。在发送前，如果监听到信道正在使用，就必须等待。
- **碰撞检测** ：在发送中，如果监听到信道已有其它主机正在发送数据，就表示发生了碰撞。虽然每个主机在发送数据之前都已经监听到信道为空闲，但是由于电磁波的传播时延的存在，还是有可能会发生碰撞。

## PPP协议

`PPP` 的帧格式：

- F 字段为帧的定界符
- A 和 C 字段暂时没有意义
- `FCS` 字段是使用 `CRC` 的检验序列
- 信息部分的长度不超过 1500

![img](https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/759013d7-61d8-4509-897a-d75af598a236.png)

## MAC地址

MAC 地址是链路层地址，长度为 6 字节（48 位），用于唯一标识网络适配器（网卡）。

一台主机拥有多少个网络适配器就有多少个 MAC 地址。例如笔记本电脑普遍存在无线网络适配器和有线网络适配器，因此就有两个 MAC 地址。

## 局域网

局域网是典型的广播信道；